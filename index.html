<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission IA √âtablissement 2025</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e8f4f8 0%, #d4e7ed 50%, #c8dfe8 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.97);
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(89, 130, 154, 0.15);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .header {
            background: linear-gradient(135deg, #5a7c8f 0%, #6b8fa3 100%);
            color: white;
            padding: 35px;
            text-align: center;
            border-bottom: 4px solid #88b4c7;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 12px;
            font-weight: 600;
            letter-spacing: 0.5px;
            animation: pulse 2s ease-in-out infinite;
        }

        .header p {
            opacity: 0.95;
            font-size: 1.05em;
            font-weight: 300;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .timer {
            background: rgba(255,255,255,0.25);
            padding: 16px;
            border-radius: 12px;
            margin-top: 18px;
            font-size: 1.3em;
            font-weight: 600;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .timer-label {
            opacity: 0.92;
        }

        .timer-value {
            background: rgba(255,255,255,0.35);
            padding: 10px 22px;
            border-radius: 10px;
            min-width: 85px;
            text-align: center;
            font-variant-numeric: tabular-nums;
        }

        .content {
            padding: 40px;
        }

        .score-board {
            background: linear-gradient(135deg, #7ea3b5 0%, #6b8fa3 100%);
            color: white;
            padding: 24px;
            border-radius: 18px;
            margin-bottom: 32px;
            display: flex;
            justify-content: space-around;
            text-align: center;
            box-shadow: 0 8px 24px rgba(106, 143, 163, 0.25);
        }

        .score-item {
            flex: 1;
        }

        .score-item .label {
            font-size: 0.92em;
            opacity: 0.93;
            margin-bottom: 8px;
            font-weight: 400;
        }

        .score-item .value {
            font-size: 2em;
            font-weight: 700;
        }

        .question-card {
            background: white;
            padding: 32px;
            border-radius: 16px;
            margin-bottom: 28px;
            box-shadow: 0 4px 16px rgba(89, 130, 154, 0.08);
            border: 1px solid #e3f0f5;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-card h2 {
            color: #3d5a6b;
            margin-bottom: 24px;
            font-size: 1.35em;
            font-weight: 600;
            line-height: 1.5;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 13px;
        }

        .choice-btn {
            background: #f8fbfc;
            border: 2px solid #d0e3eb;
            padding: 18px 26px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1.02em;
            font-weight: 500;
            color: #3d5a6b;
            position: relative;
            overflow: hidden;
        }

        .choice-btn:hover {
            transform: translateX(8px);
            border-color: #7ea3b5;
            background: #eef7fb;
            box-shadow: 0 4px 12px rgba(106, 143, 163, 0.12);
        }

        .choice-btn.correct {
            background: #d4edda;
            border-color: #5fa573;
            animation: correctPulse 0.6s ease;
        }

        .choice-btn.incorrect {
            background: #f8d7da;
            border-color: #c97a82;
            animation: shake 0.5s ease;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.04); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        .feedback {
            margin-top: 22px;
            padding: 22px;
            border-radius: 14px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .feedback.correct {
            background: #d4edda;
            color: #2d5a3d;
            border: 2px solid #5fa573;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #6b3a3e;
            border: 2px solid #c97a82;
        }

        .feedback h3 {
            margin-bottom: 12px;
            font-size: 1.2em;
        }

        .feedback p {
            line-height: 1.6;
            margin: 8px 0;
        }

        .next-btn {
            background: linear-gradient(135deg, #7ea3b5 0%, #6b8fa3 100%);
            color: white;
            border: none;
            padding: 14px 38px;
            border-radius: 28px;
            cursor: pointer;
            font-size: 1.08em;
            font-weight: 600;
            margin-top: 22px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(106, 143, 163, 0.25);
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(106, 143, 163, 0.35);
            background: linear-gradient(135deg, #88b4c7 0%, #7ea3b5 100%);
        }

        .incident-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(61, 90, 107, 0.88);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
            padding: 20px;
        }

        .incident-card {
            background: white;
            padding: 42px;
            border-radius: 20px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 80px rgba(61, 90, 107, 0.4);
            animation: slideUp 0.5s ease;
            border-top: 6px solid #d89a7f;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .incident-card h2 {
            color: #c97a6d;
            margin-bottom: 28px;
            font-size: 1.75em;
            text-align: center;
            font-weight: 600;
        }

        .incident-card .incident-description {
            background: #fef9f3;
            padding: 22px;
            border-radius: 12px;
            margin-bottom: 26px;
            border-left: 5px solid #d89a7f;
            font-size: 1.08em;
            line-height: 1.7;
            color: #6b5042;
        }

        .incident-card .incident-question {
            font-weight: 600;
            color: #3d5a6b;
            margin-bottom: 22px;
            font-size: 1.18em;
            padding: 16px;
            background: #f0f7fa;
            border-radius: 11px;
        }

        .exchange-section {
            background: linear-gradient(135deg, #eef7fb 0%, #e3f0f5 100%);
            padding: 32px;
            border-radius: 16px;
            margin: 32px 0;
            box-shadow: 0 5px 20px rgba(89, 130, 154, 0.1);
            border: 2px solid #c8dfe8;
        }

        .exchange-section h3 {
            color: #3d5a6b;
            margin-bottom: 18px;
            font-size: 1.5em;
            font-weight: 600;
        }

        .exchange-section p {
            color: #4d6a7b;
            font-size: 1.08em;
            line-height: 1.7;
            margin-bottom: 16px;
        }

        .exchange-section ul {
            text-align: left;
            margin: 20px 0;
            padding-left: 28px;
        }

        .exchange-section li {
            margin: 13px 0;
            line-height: 1.8;
            font-size: 1.05em;
            color: #3d5a6b;
        }

        .final-score {
            text-align: center;
            padding: 42px;
        }

        .final-score h2 {
            font-size: 2.4em;
            color: #5a7c8f;
            margin-bottom: 32px;
            font-weight: 600;
        }

        .final-score .score-display {
            background: linear-gradient(135deg, #7ea3b5 0%, #6b8fa3 100%);
            color: white;
            padding: 42px;
            border-radius: 20px;
            font-size: 2.8em;
            font-weight: 700;
            margin-bottom: 32px;
            box-shadow: 0 10px 40px rgba(106, 143, 163, 0.25);
        }

        footer {
            text-align: center;
            padding: 32px 24px;
            color: #6b8fa3;
            font-size: 0.98em;
            border-top: 1px solid #d0e3eb;
            margin-top: 24px;
            background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(232,244,248,0.4) 100%);
        }

        footer a {
            color: #5a7c8f;
            text-decoration: none;
            transition: color 0.3s ease;
            font-weight: 500;
        }

        footer a:hover {
            color: #7ea3b5;
            text-decoration: underline;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .content {
                padding: 22px;
            }

            .score-board {
                flex-direction: column;
                gap: 16px;
            }

            .header h1 {
                font-size: 1.6em;
            }

            .incident-card {
                padding: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì Mission IA √âtablissement 2025</h1>
            <p>Quiz interactif avec incidents critiques</p>
            <div class="timer">
                <span class="timer-label">‚è±Ô∏è Temps restant:</span>
                <span class="timer-value" id="timerDisplay">20:00</span>
            </div>
        </div>

        <div class="content">
            <div class="score-board">
                <div class="score-item">
                    <div class="label">üìä Score</div>
                    <div class="value" id="scoreDisplay">0</div>
                </div>
                <div class="score-item">
                    <div class="label">‚úÖ Bonnes r√©ponses</div>
                    <div class="value" id="correctDisplay">0</div>
                </div>
                <div class="score-item">
                    <div class="label">‚ùå Erreurs</div>
                    <div class="value" id="incorrectDisplay">0</div>
                </div>
                <div class="score-item">
                    <div class="label">üìù Question</div>
                    <div class="value"><span id="currentDisplay">0</span>/<span id="totalDisplay">20</span></div>
                </div>
            </div>

            <div id="quizContainer"></div>
        </div>

        <footer>
            <p>
                Con√ßu par <strong><a href="mailto:amelie.silvert@region-academique-hdf.fr">Am√©lie Silvert</a></strong> √† l'aide de l'IA
            </p>
        </footer>
    </div>

    <script>
        const questions = [
            {question: 'Quelle est la premi√®re r√®gle d\'or du cadre d\'usage de l\'IA en √©tablissement?', choices: ['Toujours utiliser l\'IA pour gagner du temps', 'Jamais de donn√©es personnelles dans les IA grand public', 'Former tous les √©l√®ves d√®s le CP', 'Utiliser uniquement ChatGPT'], correct: 1, points: 10, livret: 'Livret de mission - Protection des donn√©es'},
            {question: '√Ä partir de quel niveau les √©l√®ves peuvent-ils manipuler des IA g√©n√©ratives de mani√®re encadr√©e?', choices: ['CP', '6√®me', '4√®me', 'Terminale'], correct: 2, points: 10, livret: 'Livret de mission - Usage p√©dagogique selon les niveaux'},
            {question: 'Que doit faire un enseignant qui utilise l\'IA pour pr√©parer un support de cours?', choices: ['Le distribuer directement aux √©l√®ves', 'Signaler syst√©matiquement l\'utilisation de l\'IA et v√©rifier le contenu', 'Ne rien dire pour garder le secret professionnel', 'Demander l\'autorisation au rectorat'], correct: 1, points: 10, livret: 'Livret de mission - Transparence et responsabilit√©'},
            {question: 'Pourquoi les d√©tecteurs de contenu IA sont-ils d√©conseill√©s pour sanctionner les √©l√®ves?', choices: ['Ils sont trop chers', 'Ils ont un taux d\'erreur √©lev√© avec de nombreux faux positifs', 'Ils sont interdits par la loi', 'Ils fonctionnent trop lentement'], correct: 1, points: 10, livret: 'Livret de mission - Devoirs et √©valuation'},
            {question: 'Quelle est la consommation √©nerg√©tique d\'une requ√™te IA par rapport √† une recherche web classique?', choices: ['Identique', '2 fois plus', '10 fois plus', '100 fois plus'], correct: 2, points: 10, livret: 'Livret de mission - Impact environnemental'},
            {question: 'Un enseignant peut-il demander √† ses √©l√®ves de 4√®me de cr√©er un compte ChatGPT personnel?', choices: ['Oui, sans restriction', 'Oui, avec accord parental', 'Non, c\'est interdit (CGU imposent 13 ans minimum avec accord parental v√©rifiable)', 'Oui, si c\'est pour un projet p√©dagogique'], correct: 2, points: 10, livret: 'Livret de mission - Protection des mineurs'},
            {question: 'Que doit faire un CPE qui utilise ChatGPT pour r√©diger une charte de vie scolaire?', choices: ['Le diffuser imm√©diatement', 'V√©rifier, adapter, valider avec l\'√©quipe et mentionner l\'usage de l\'IA', 'Le garder secret', 'Demander √† l\'IA de le v√©rifier'], correct: 1, points: 10, livret: 'Livret de mission - Transparence et responsabilit√©'},
            {question: 'Dans quel cas l\'usage de l\'IA est-il justifi√© selon le principe de frugalit√©?', choices: ['Pour chercher une d√©finition simple', 'Pour cr√©er 20 exercices diff√©renci√©s sur 3 niveaux', 'Pour toutes les t√¢ches quotidiennes', 'Jamais'], correct: 1, points: 10, livret: 'Livret de mission - Principe de frugalit√©'},
            {question: 'Que risque un √©tablissement qui utilise ChatGPT pour prendre des d√©cisions d\'orientation automatiques?', choices: ['Rien du tout', 'Une amende mineure', 'Violation du RGPD et responsabilit√© juridique', 'Des f√©licitations pour l\'innovation'], correct: 2, points: 10, livret: 'Livret de mission - Responsabilit√© juridique'},
            {question: 'Comment un enseignant de SVT doit-il utiliser ChatGPT pour pr√©parer un cours sur la photosynth√®se?', choices: ['Projeter directement la r√©ponse de l\'IA sans v√©rification', 'G√©n√©rer, v√©rifier avec manuels et ressources scientifiques, corriger, puis mentionner l\'usage', 'Ne jamais utiliser l\'IA en SVT', 'Demander aux √©l√®ves de v√©rifier'], correct: 1, points: 10, livret: 'Livret de mission - V√©rification des contenus'},
            {question: 'Quel est l\'√¢ge minimum requis par les CGU de ChatGPT?', choices: ['10 ans', '13 ans (avec consentement parental jusqu\'√† 18 ans)', '16 ans', '18 ans'], correct: 1, points: 10, livret: 'Livret de mission - Protection des mineurs'},
            {question: 'Un chef d\'√©tablissement peut-il utiliser l\'IA pour traduire des documents pour familles allophones?', choices: ['Non, c\'est interdit', 'Oui, si le document ne contient pas de donn√©es sensibles et est v√©rifi√©', 'Oui, sans restriction', 'Seulement avec Google Translate'], correct: 1, points: 10, livret: 'Livret de mission - Usage professionnel'},
            {question: 'Quelle est la bonne pratique si un √©l√®ve est suspect√© d\'avoir utilis√© l\'IA pour un devoir?', choices: ['Le sanctionner imm√©diatement avec un 0/20', 'Utiliser un d√©tecteur d\'IA comme preuve', 'Organiser un entretien p√©dagogique et une √©valuation orale compl√©mentaire', 'L\'exclure de l\'√©tablissement'], correct: 2, points: 10, livret: 'Livret de mission - Devoirs et √©valuation'},
            {question: 'Dans quel contexte un enseignant peut-il copier-coller des copies d\'√©l√®ves dans ChatGPT?', choices: ['Pour gagner du temps dans les corrections', 'Si les parents sont d\'accord', 'Jamais - c\'est une violation grave du RGPD', 'Uniquement pendant les vacances'], correct: 2, points: 10, livret: 'Livret de mission - Protection des donn√©es'},
            {question: 'Que doit faire un √©tablissement qui d√©couvre qu\'une charte r√©dig√©e par IA contient des erreurs juridiques?', choices: ['Minimiser l\'erreur', 'Retirer imm√©diatement, v√©rifier avec expert, corriger et re-pr√©senter au CA', 'Accuser ChatGPT publiquement', 'Modifier discr√®tement'], correct: 1, points: 10, livret: 'Livret de mission - Responsabilit√© et v√©rification'},
            {question: '√Ä quelle fr√©quence la formation √† l\'IA doit-elle √™tre renouvel√©e?', choices: ['Une fois suffit', 'Tous les 5 ans', 'En continu car √©volution constante', 'Jamais'], correct: 2, points: 10, livret: 'Livret de mission - Formation continue'},
            {question: 'Quelle plateforme est recommand√©e pour la formation obligatoire aux IA en 4√®me?', choices: ['ChatGPT', 'Pix', 'Facebook', 'TikTok'], correct: 1, points: 10, livret: 'Livret de mission - Formation Pix IA'},
            {question: 'Un enseignant sp√©cialis√© ULIS peut-il utiliser l\'IA pour adapter un texte en FALC?', choices: ['Non, c\'est interdit', 'Oui, s\'il v√©rifie et ajuste selon les besoins sp√©cifiques de ses √©l√®ves', 'Oui, sans v√©rification', 'Uniquement avec autorisation m√©dicale'], correct: 1, points: 10, livret: 'Livret de mission - Adaptation p√©dagogique'},
            {question: 'Que doit faire un CPE qui d√©couvre que des √©l√®ves utilisent ChatGPT comme confident psychologique?', choices: ['Les f√©liciter pour leur autonomie', 'Alerter sur les risques et orienter vers professionnels (infirmi√®re, psy EN, AS)', 'Ne rien faire', 'Consulter leurs conversations'], correct: 1, points: 10, livret: 'Livret de mission - Risques psychologiques'},
            {question: 'Quelle est la meilleure approche pour une dissertation √† la maison √† l\'√®re de l\'IA?', choices: ['Interdire l\'IA sans adapter l\'exercice', 'Autoriser l\'IA pour la recherche, demander un journal de bord et √©valuer principalement √† l\'oral', 'Faire confiance aux √©l√®ves', 'Utiliser un d√©tecteur d\'IA'], correct: 1, points: 10, livret: 'Livret de mission - Adaptation des √©valuations'}
        ];

        const discussions = [
            {
                after: 6,
                title: 'üí¨ Temps d\'√©change - L\'IA et les √©l√®ves',
                content: '<p><strong>Prenez 2 minutes pour √©changer avec le groupe:</strong></p><ul><li>Comment sensibilisez-vous vos √©l√®ves √† un usage critique et responsable de l\'IA?</li><li>Quelles activit√©s p√©dagogiques avez-vous mises en place pour former les √©l√®ves?</li><li>Comment g√©rez-vous les cas d\'√©l√®ves utilisant l\'IA pour leurs devoirs?</li><li>Quelles ressources √©ducatives partagez-vous avec vos √©l√®ves sur l\'IA?</li></ul>'
            },
            {
                after: 12,
                title: 'üí¨ Temps d\'√©change - Gouvernance IA dans l\'√©tablissement',
                content: '<p><strong>Prenez 2 minutes pour √©changer avec le groupe:</strong></p><ul><li>Avez-vous √©labor√© une charte d\'usage de l\'IA dans votre √©tablissement?</li><li>Comment organisez-vous la formation des √©quipes √©ducatives?</li><li>Qui est le r√©f√©rent IA dans votre structure? Quel est son r√¥le concret?</li><li>Comment impliquez-vous les parents et les √©l√®ves dans cette d√©marche?</li></ul>'
            }
        ];

        const incidents = [
            {
                title: 'üìö BON USAGE - Enseignante de fran√ßais cr√©ative',
                description: 'Marie, enseignante de fran√ßais en 3√®me, souhaite cr√©er une grille d\'√©valuation pour une r√©daction argumentative sur les r√©seaux sociaux. Elle h√©site entre copier-coller la copie de Lucas (avec son nom) pour obtenir une correction personnalis√©e, ou demander une grille g√©n√©rique √† ChatGPT.',
                question: 'Quelle approche Marie doit-elle adopter?',
                choices: [
                    'Copier-coller la copie de Lucas avec son nom - c\'est plus efficace',
                    'Demander √† ChatGPT: "Cr√©e une grille d\'√©valuation pour un texte argumentatif niveau 3e sur les r√©seaux sociaux avec crit√®res de coh√©rence, argumentation et expression √©crite"',
                    'Ne pas utiliser l\'IA du tout',
                    'Demander aux √©l√®ves de cr√©er eux-m√™mes la grille avec ChatGPT'
                ],
                correct: 1,
                points: 40,
                justification: '‚úÖ Livret de mission - Protection des donn√©es: Marie adopte la BONNE pratique. Elle utilise ChatGPT avec des donn√©es g√©n√©riques (niveau, type de texte, comp√©tences) sans aucune donn√©e personnelle d\'√©l√®ve. C\'est l\'exemple concret recommand√© dans le livret pour un usage conforme et efficace de l\'IA.'
            },
            {
                title: '‚ö†Ô∏è MAUVAIS USAGE - CPE et document non v√©rifi√©',
                description: 'Thomas, CPE, a r√©dig√© un projet de charte de vie scolaire avec ChatGPT. Il trouve le texte parfait et s\'appr√™te √† le distribuer directement aux √©l√®ves et familles sans validation ni mention de l\'outil utilis√©.',
                question: 'Que devrait faire Thomas?',
                choices: [
                    'Distribuer le texte imm√©diatement - il a l\'air bien r√©dig√©',
                    'Demander √† ChatGPT de v√©rifier lui-m√™me le document',
                    'Ajouter en bas: "Document √©labor√© avec ChatGPT, revu et valid√© par l\'√©quipe de vie scolaire et pr√©sent√© au CA" apr√®s v√©rification',
                    'Garder secret l\'usage de l\'IA'
                ],
                correct: 2,
                points: 45,
                justification: '‚ùå Livret de mission - Transparence: Thomas fait une ERREUR. Il doit obligatoirement: 1) Mentionner l\'usage de l\'IA 2) Faire v√©rifier et adapter par l\'√©quipe 3) Valider en CA. Distribuer un document g√©n√©r√© par IA sans validation ni transparence viole le principe de responsabilit√©.'
            },
            {
                title: 'üî¥ INCIDENT CRITIQUE - Enseignant SVT et comptes mineurs',
                description: 'Vous √™tes chef d\'√©tablissement. Un enseignant de SVT a impos√© √† ses 28 √©l√®ves de 4√®me (13-14 ans) de cr√©er un compte ChatGPT individuel pour faire des "recherches personnalis√©es" sur l\'environnement. Les √©l√®ves ont fourni emails et donn√©es personnelles. Cinq parents furieux vous contactent.',
                question: 'Quelle action d\'urgence menez-vous?',
                choices: [
                    'Laisser faire - c\'est une d√©cision p√©dagogique de l\'enseignant',
                    'Rassurer les parents: "C\'est pour le bien de leurs enfants"',
                    'Faire stopper imm√©diatement, informer que les CGU imposent 13 ans avec accord parental v√©rifiable, proposer alternative conforme (projection collective ou outil acad√©mique)',
                    'Attendre de voir si √ßa pose vraiment probl√®me'
                ],
                correct: 2,
                points: 50,
                justification: 'üî¥ Livret de mission - Protection mineurs: C\'est STRICTEMENT INTERDIT sans accord parental explicite et v√©rifiable. Les CGU de ChatGPT imposent 13 ans minimum avec consentement parental jusqu\'√† 18 ans. Violation du RGPD et protection des mineurs. Action imm√©diate obligatoire: arr√™t, information direction, alternative conforme.'
            },
            {
                title: '‚úÖ BON USAGE - Professeure d\'histoire et √©valuation adapt√©e',
                description: 'L√©a, enseignante d\'histoire-g√©o en Terminale, donne une dissertation sur Camus. Elle sait que les √©l√®ves peuvent utiliser l\'IA. Elle h√©site entre simplement interdire l\'IA, ou autoriser l\'IA pour le plan √† condition que les √©l√®ves reformulent, ajoutent leurs analyses personnelles et citent leurs sources.',
                question: 'Quelle approche L√©a doit-elle privil√©gier?',
                choices: [
                    'Interdire totalement l\'IA sans adaptation',
                    'Laisser faire sans cadre - ils sont autonomes',
                    'Autoriser l\'IA pour g√©n√©rer un plan, exiger reformulation compl√®te, analyses personnelles et citations de sources v√©rifi√©es',
                    'Utiliser un d√©tecteur d\'IA pour surveiller'
                ],
                correct: 2,
                points: 40,
                justification: '‚úÖ Livret de mission - Usage lyc√©e et √©valuation: L√©a adopte la BONNE pratique pour le lyc√©e. Elle d√©finit un cadre explicite, autorise l\'IA pour une phase pr√©cise (plan), exige appropriation et travail personnel. C\'est l\'exemple concret recommand√© dans le livret pour adapter les √©valuations.'
            },
            {
                title: 'üåç BON USAGE - Chef d\'√©tablissement et frugalit√©',
                description: 'Ahmed, chef d\'√©tablissement, doit faire une synth√®se d\'une r√©union de direction de 2h30. Il h√©site entre: 1) Utiliser un outil de transcription automatique puis demander √† l\'IA de structurer les id√©es qu\'il v√©rifiera et compl√©tera (sans donn√©es √©l√®ves identifiables), ou 2) Tout taper manuellement.',
                question: 'Quelle approche est conforme au principe de frugalit√© et d\'usage justifi√©?',
                choices: [
                    'Tout taper manuellement - ne jamais utiliser l\'IA',
                    'Utiliser la transcription automatique + IA pour structurer, puis v√©rifier et adapter (sans donn√©es sensibles)',
                    'Demander √† l\'IA de tout faire automatiquement',
                    'Utiliser ChatGPT m√™me avec des √©changes sur situations individuelles d\'√©l√®ves'
                ],
                correct: 1,
                points: 45,
                justification: '‚úÖ Livret de mission - Frugalit√© et usage professionnel: Ahmed fait un BON usage. Il y a une vraie plus-value (gain de temps important sur t√¢che administrative r√©p√©titive), il supervise humainement, v√©rifie et n\'inclut pas de donn√©es sensibles. C\'est l\'exemple concret recommand√© pour les chefs d\'√©tablissement.'
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let correctCount = 0;
        let incorrectCount = 0;
        let answered = false;
        let timeRemaining = 1200;
        let timerInterval;
        let incidentShown = [false, false, false, false, false];
        let discussionShown = [false, false];

        const quizContainer = document.getElementById('quizContainer');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const correctDisplay = document.getElementById('correctDisplay');
        const incorrectDisplay = document.getElementById('incorrectDisplay');
        const currentDisplay = document.getElementById('currentDisplay');
        const totalDisplay = document.getElementById('totalDisplay');
        const timerDisplay = document.getElementById('timerDisplay');

        totalDisplay.textContent = questions.length;

        function startTimer() {
            timerInterval = setInterval(() => {
                timeRemaining--;
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                timerDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;

                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    endQuiz();
                }
            }, 1000);
        }

        function showIncident(incidentIndex) {
            const incident = incidents[incidentIndex];
            incidentShown[incidentIndex] = true;

            const overlay = document.createElement('div');
            overlay.className = 'incident-overlay';
            overlay.innerHTML = `
                <div class="incident-card">
                    <h2>${incident.title}</h2>
                    <div class="incident-description">
                        ${incident.description}
                    </div>
                    <div class="incident-question">
                        ‚ùì ${incident.question}
                    </div>
                    <div class="choices">
                        ${incident.choices.map((choice, index) => `
                            <button class="choice-btn incident-choice" data-index="${index}">
                                ${choice}
                            </button>
                        `).join('')}
                    </div>
                    <div id="incidentFeedback"></div>
                </div>
            `;
            document.body.appendChild(overlay);

            const choiceButtons = overlay.querySelectorAll('.incident-choice');
            choiceButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const chosenIndex = parseInt(this.getAttribute('data-index'));
                    handleIncidentChoice(chosenIndex, incident.correct, incident.points, incident.justification, this);
                });
            });
        }

        function handleIncidentChoice(chosen, correct, points, justification, button) {
            const buttons = button.parentElement.querySelectorAll('.choice-btn');
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === correct) {
                    btn.classList.add('correct');
                } else if (btn === button && chosen !== correct) {
                    btn.classList.add('incorrect');
                }
            });

            const feedbackDiv = document.getElementById('incidentFeedback');
            if (chosen === correct) {
                score += points;
                correctCount++;
                feedbackDiv.innerHTML = `
                    <div class="feedback correct">
                        <h3>‚úÖ Excellente d√©cision!</h3>
                        <p><strong>+${points} points</strong></p>
                        <p>${justification}</p>
                        <button class="next-btn" id="continueBtn">Continuer le quiz</button>
                    </div>
                `;
            } else {
                incorrectCount++;
                feedbackDiv.innerHTML = `
                    <div class="feedback incorrect">
                        <h3>‚ùå Attention - D√©cision non conforme</h3>
                        <p><strong>0 point</strong></p>
                        <p>${justification}</p>
                        <button class="next-btn" id="continueBtn">Continuer le quiz</button>
                    </div>
                `;
            }

            document.getElementById('continueBtn').addEventListener('click', function() {
                const overlay = document.querySelector('.incident-overlay');
                if (overlay) {
                    overlay.remove();
                }
                showQuestion();
            });
            updateScoreBoard();
        }

        function showDiscussion(discussionIndex) {
            const disc = discussions[discussionIndex];
            discussionShown[discussionIndex] = true;

            const exchangeDiv = document.createElement('div');
            exchangeDiv.className = 'exchange-section';
            exchangeDiv.innerHTML = `
                <h3>${disc.title}</h3>
                ${disc.content}
                <button class="next-btn" id="exchangeBtn">Continuer</button>
            `;
            quizContainer.innerHTML = '';
            quizContainer.appendChild(exchangeDiv);

            document.getElementById('exchangeBtn').addEventListener('click', function() {
                showQuestion();
            });
        }

        function showQuestion() {
            if (currentQuestion >= questions.length) {
                endQuiz();
                return;
            }

            // V√©rifier d'abord les discussions (apr√®s Q6 et Q12)
            if (currentQuestion === 6 && !discussionShown[0]) {
                showDiscussion(0);
                return;
            }
            if (currentQuestion === 12 && !discussionShown[1]) {
                showDiscussion(1);
                return;
            }

            // Puis v√©rifier les incidents (apr√®s Q3, Q6, Q9, Q12, Q15)
            if (currentQuestion === 3 && !incidentShown[0]) {
                showIncident(0);
                return;
            }
            if (currentQuestion === 6 && !incidentShown[1] && discussionShown[0]) {
                showIncident(1);
                return;
            }
            if (currentQuestion === 9 && !incidentShown[2]) {
                showIncident(2);
                return;
            }
            if (currentQuestion === 12 && !incidentShown[3] && discussionShown[1]) {
                showIncident(3);
                return;
            }
            if (currentQuestion === 15 && !incidentShown[4]) {
                showIncident(4);
                return;
            }

            answered = false;
            const q = questions[currentQuestion];
            currentDisplay.textContent = currentQuestion + 1;

            const questionCard = document.createElement('div');
            questionCard.className = 'question-card';
            questionCard.innerHTML = `
                <h2>Question ${currentQuestion + 1}: ${q.question}</h2>
                <div class="choices">
                    ${q.choices.map((choice, index) => `
                        <button class="choice-btn" onclick="checkAnswer(${index})" id="choice${index}">
                            ${choice}
                        </button>
                    `).join('')}
                </div>
                <div id="feedback"></div>
            `;

            quizContainer.innerHTML = '';
            quizContainer.appendChild(questionCard);
        }

        function checkAnswer(chosen) {
            if (answered) return;
            answered = true;

            const q = questions[currentQuestion];
            const buttons = document.querySelectorAll('.choice-btn');

            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === q.correct) {
                    btn.classList.add('correct');
                } else if (index === chosen) {
                    btn.classList.add('incorrect');
                }
            });

            const feedbackDiv = document.getElementById('feedback');
            if (chosen === q.correct) {
                score += q.points;
                correctCount++;
                feedbackDiv.innerHTML = `
                    <div class="feedback correct">
                        <h3>‚úÖ Bravo! Bonne r√©ponse</h3>
                        <p><strong>+${q.points} points</strong></p>
                        <p><em>${q.livret}</em></p>
                        <button class="next-btn" onclick="nextQuestion()">Question suivante</button>
                    </div>
                `;
            } else {
                incorrectCount++;
                feedbackDiv.innerHTML = `
                    <div class="feedback incorrect">
                        <h3>‚ùå Incorrect</h3>
                        <p>La bonne r√©ponse √©tait: <strong>${q.choices[q.correct]}</strong></p>
                        <p><em>${q.livret}</em></p>
                        <button class="next-btn" onclick="nextQuestion()">Question suivante</button>
                    </div>
                `;
            }

            updateScoreBoard();
        }

        function nextQuestion() {
            currentQuestion++;
            showQuestion();
        }

        function updateScoreBoard() {
            scoreDisplay.textContent = score;
            correctDisplay.textContent = correctCount;
            incorrectDisplay.textContent = incorrectCount;
        }

        function endQuiz() {
            clearInterval(timerInterval);
            const totalPossible = questions.reduce((sum, q) => sum + q.points, 0) + incidents.reduce((sum, i) => sum + i.points, 0);
            const percentage = Math.round((score / totalPossible) * 100);

            let message = '';
            let emoji = '';
            if (percentage >= 90) {
                message = 'Expert certifi√©! Vous ma√Ætrisez parfaitement le cadre d\'usage de l\'IA en √©tablissement.';
                emoji = 'üèÜ';
            } else if (percentage >= 75) {
                message = 'Tr√®s bon niveau! Vous avez une excellente compr√©hension des bonnes pratiques.';
                emoji = '‚≠ê';
            } else if (percentage >= 60) {
                message = 'Bon niveau! Continuez √† vous former sur les usages responsables de l\'IA.';
                emoji = 'üëç';
            } else {
                message = 'Niveau √† am√©liorer. Nous vous recommandons de suivre une formation compl√©mentaire.';
                emoji = 'üìö';
            }

            quizContainer.innerHTML = `
                <div class="final-score">
                    <h2>${emoji} Quiz termin√©!</h2>
                    <div class="score-display">
                        ${score} / ${totalPossible} points
                        <div style="font-size: 0.5em; margin-top: 10px;">${percentage}%</div>
                    </div>
                    <div class="feedback correct" style="margin: 20px 0;">
                        <h3>${message}</h3>
                        <p><strong>Bonnes r√©ponses:</strong> ${correctCount}</p>
                        <p><strong>Erreurs:</strong> ${incorrectCount}</p>
                    </div>
                    <button class="next-btn" onclick="location.reload()">Recommencer le quiz</button>
                </div>
            `;
        }

        startTimer();
        showQuestion();
    </script>
</body>
</html>
